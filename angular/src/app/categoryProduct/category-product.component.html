<div [@routerTransition]>
    <section class="content-header">
        <div class="container-fluid">
            <div class="row">
                <div class="col-6">
                    <h1>Manage Stock</h1>
                </div>
                <!-- <div class="col-6 text-right">
                    (click)="createTenant()" 
                    <a href="javascript:;" class="btn bg-blue">
                        <i class="fa fa-plus-square"></i>
                        {{ "Create" | localize }}
                    </a>
                </div> -->
            </div>
        </div>
    </section>
    <section class="content-header">
        <div class="container-fluid">
            <div class="row">
                <div class="col-sm-12">
                    <p-table [tableStyle]="{'min-width': '60rem'}" [value]="categoryProduct" [responsive]="true"
                        selectionMode="single" dataKey="name" [paginator]="true" [rows]="5" sortMode="single"
                        [pageLinks]="5" [rowsPerPageOptions]="[5,10,15,20,25]" [totalRecords]="[19]">
                        <ng-template pTemplate="header">
                            <tr>
                                <th [style]="{'font-size':'12px'}">{{"Action" | localize}}</th>
                                <th [style]="{'font-size':'12px'}">{{"Category" | localize}}</th>
                                <th [style]="{'font-size':'12px'}">{{"Count" | localize}}</th>

                            </tr>

                        </ng-template>
                        <ng-template pTemplate="body" let-item>
                            <tr>
                                <td [style]="{'font-size':'10px','padding': '0.5rem 1rem','font-weight':'600'}">
                                    <i class="fa"
                                    [ngClass]="{'fa-arrow-right': !isRowVisible(item.categoryId), 'fa-arrow-down': isRowVisible(item.categoryId)}"
                                    (click)="toggleDetails(item.categoryId)"></i>
                                </td>
                               
                                <td [style]="{'font-size':'10px','padding': '0.5rem 1rem','font-weight':'600'}">
                                    {{item.categoryName}}</td>
                                <td [style]="{'font-size':'10px','padding': '0.5rem 1rem','font-weight':'600'}">
                                    {{item.productCount}}</td>
                            </tr>
                            <tr *ngIf="isRowVisible(item.categoryId)">
                                <td colspan="9" class="border-top" [style]="{'padding':'0rem 0rem'}">                                   
                                    <table class="w-100">
                                        <thead class="bg-success">
                                          <tr class="border-top border-bottom ">
                                            <th [style]="{'font-size':'12px','padding': '0.5rem 1rem'}">{{"ProductName" | localize}}</th>
                                            <th [style]="{'font-size':'12px','padding': '0.5rem 1rem'}">{{"Price" | localize}}</th>
                                            <th [style]="{'font-size':'12px','padding': '0.5rem 1rem'}">{{"Description" | localize}}</th>
                                            <th [style]="{'font-size':'12px','padding': '0.5rem 1rem'}">{{"ProductDetail" | localize}}</th>
                                            <th [style]="{'font-size':'12px','padding': '0.5rem 1rem'}">{{"Trand" | localize}}</th>
                                          </tr>
                                        </thead>
                                        <tbody>
                                          <tr class="border-top bg-success border-bottom" *ngFor="let product of item.products">
                                            <td [style]="{'font-size':'10px','padding': '0.5rem 1rem','font-weight':'600'}">
                                              {{product.productName}}
                                            </td>
                                           
                                            <td [style]="{'font-size':'10px','padding': '0.5rem 1rem','font-weight':'600'}">
                                              {{product.productPrice | currency:'PKR':'symbol':'3.2-2':'en'}}
                                            </td>
                                            <td [style]="{'font-size':'10px','padding': '0.5rem 1rem','font-weight':'600'}">
                                              {{product.description}}
                                            </td>
                                            <td [style]="{'font-size':'10px','padding': '0.5rem 1rem','font-weight':'600'}">
                                              {{product.fullDescription}}
                                            </td>
                                            <td [style]="{'font-size':'10px','padding': '0.5rem 1rem','font-weight':'600'}">
                                              {{product.isFeatured}}
                                            </td>
                                          </tr>
                                        </tbody>
                                      </table>  
                                </td>
                            </tr>
                        </ng-template>
                    </p-table>
                </div>
            </div>
        </div>
    </section>
</div>